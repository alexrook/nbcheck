import org.apache.tools.ant.filters.*

plugins {
  id "war"
}

sourceCompatibility = '1.7'
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

repositories {
    mavenCentral()
}

dependencies {
    providedCompile 'javax:javaee-api:7.0'
    compile 'org.codelibs:jcifs:1.3.18.1'
    providedCompile 'org.codelibs:jcifs:1.3.18.1:javadoc'
    testCompile 'junit:junit:4.10'
}

Properties props = new Properties()
props.load(new FileInputStream(file("local.properties")))

war {
    webInf {
        from 'src/main/webres/posgresql-ds.xml'
        filter(ReplaceTokens, tokens:props)
    }
}
